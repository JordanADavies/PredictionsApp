import 'package:collection/collection.dart';
import 'package:flutter/foundation.dart';
import 'package:meta/meta.dart';
import 'package:predictions/data/api/matches_api.dart';
import 'package:predictions/data/model/football_match.dart';
import 'package:rxdart/subjects.dart';

class Matches {
  final List<FootballMatch> allMatches;
  final List<FootballMatch> thisSeasonsMatches;
  final Map<String, Map<String, List<FootballMatch>>> groupedMatches;

  final List<FootballMatch> winLoseDrawMatches;
  final List<FootballMatch> under3Matches;
  final List<FootballMatch> over2Matches;
  final List<FootballMatch> bttsNoMatches;
  final List<FootballMatch> bttsYesMatches;

  Matches(
      {@required this.allMatches,
      @required this.thisSeasonsMatches,
      @required this.groupedMatches,
      @required this.winLoseDrawMatches,
      @required this.under3Matches,
      @required this.over2Matches,
      @required this.bttsNoMatches,
      @required this.bttsYesMatches});
}

class MatchesBloc {
  final BehaviorSubject<Matches> matches = BehaviorSubject<Matches>();

  void dispose() {
    matches.close();
  }

  MatchesBloc() {
    _loadMatches();
  }

  Future _loadMatches() async {
    final api = MatchesApi();
    final apiMatches = await api.fetchMatches();

    final matchesData = await compute(_getMatchesData, apiMatches);
    matches.add(matchesData);
  }

  static Matches _getMatchesData(List<FootballMatch> allMatches) {
    final thisSeasonsMatches = allMatches.where(_isThisSeason).toList();
    return Matches(
      allMatches: allMatches,
      thisSeasonsMatches: thisSeasonsMatches,
      groupedMatches: _groupMatches(thisSeasonsMatches),
      winLoseDrawMatches: _getWinLoseDrawMatches(thisSeasonsMatches),
      under3Matches: _getUnder3Matches(thisSeasonsMatches),
      over2Matches: _getOver2Matches(thisSeasonsMatches),
      bttsNoMatches: _getBttsNoMatches(thisSeasonsMatches),
      bttsYesMatches: _getBttsYesMatches(thisSeasonsMatches),
    );
  }

  static bool _isThisSeason(FootballMatch match) {
    final dateSplitString = match.date.split("-");
    return dateSplitString[0] == "2019" ||
        (dateSplitString[0] == "2018" && double.parse(dateSplitString[1]) > 7);
  }

  static Map<String, Map<String, List<FootballMatch>>> _groupMatches(
      List<FootballMatch> matches) {
    final groupedByDay = groupBy(matches, (obj) => obj.date);
    return groupedByDay.map(
        (key, value) => MapEntry(key, groupBy(value, (obj) => obj.league)));
  }

  static List<FootballMatch> _getWinLoseDrawMatches(
      List<FootballMatch> allMatches) {
    final teamsWithHighWinLoseDraw = [
      "(H) Shandong Luneng",
      "(H) Shanghai SIPG",
      "(H) Zenit St Petersburg",
      "(H) Brommapojkarna",
      "(H) Celtic",
      "(H) Richmond Kickers",
      "(H) Saint Louis FC",
      "(H) Portland Timbers 2",
      "(H) New York Red Bulls",
      "(H) FC Salzburg",
      "(H) Ajax",
      "(H) PSV",
      "(H) FC Porto",
      "(H) Columbus Crew",
      "(H) Liverpool",
      "(H) Arsenal",
      "(H) FC Midtjylland",
      "(H) Paris Saint-Germain",
      "(H) Braga",
      "(H) Palmeiras",
      "(H) Toronto FC II",
      "(H) Seattle Sounders FC",
      "(H) Haugesund",
      "(H) Tottenham Hotspur",
      "(H) Sporting CP",
      "(H) Portland Thorns",
      "(H) Guangzhou Evergrande",
      "(H) Manchester City",
      "(H) Atlético Paranaense",
      "(H) Racing Club",
      "(H) Juventus",
      "(H) PAOK Salonika",
      "(H) Atletico Madrid",
      "(H) Osasuna",
      "(H) Olympiacos",
      "(H) FC Astana",
      "(H) Wuhan Zall",
      "(H) Shenzhen FC",
      "(H) Matsumoto Yamaga FC",
      "(H) Austin Bold FC",
      "(A) Guizhou Hengfeng Zhicheng",
      "(A) Richmond Kickers",
      "(A) Guangzhou Evergrande",
      "(A) KSC Lokeren",
      "(A) San Jose Earthquakes",
      "(A) LA Galaxy II",
      "(A) Tacoma Defiance",
      "(A) Chicago Fire",
      "(A) Trelleborgs FF",
      "(A) Motherwell",
      "(A) Metallurg Krasnoyarsk",
      "(A) Portland Thorns",
      "(A) Washington Spirit",
      "(A) Wigan",
      "(A) Hamilton Academical",
      "(A) Houston Dash",
      "(A) Las Vegas Lights FC",
      "(A) Young Boys",
      "(A) NAC",
      "(A) Akhisar Belediye",
      "(A) Corinthians",
      "(A) Fulham",
      "(A) Paris Saint-Germain",
      "(A) Juventus",
      "(A) Tulsa Roughnecks",
      "(A) Patronato",
      "(A) Orlando Pride",
      "(A) Paraná",
      "(A) FC Porto",
      "(A) Braga",
      "(A) Reus Deportiu",
      "(A) 1. FC Nürnberg",
      "(A) Asteras Tripolis",
      "(A) Giannina",
      "(A) VfB Stuttgart",
      "(A) Gimnástic Tarragona",
      "(A) Levadiakos",
      "(A) Apollon Smyrni",
      "(A) Red Star Belgrade",
      "(A) F91 Dudelange",
      "(A) Brisbane Roar",
      "(A) Mjondalen",
      "(A) Shenzhen FC",
      "(A) Wuhan Zall",
    ];
    return allMatches
        .where((m) =>
            teamsWithHighWinLoseDraw.contains("(H) ${m.homeTeam}") ||
            teamsWithHighWinLoseDraw.contains("(A) ${m.awayTeam}"))
        .toList();
  }

  static List<FootballMatch> _getUnder3Matches(List<FootballMatch> allMatches) {
    final leaguesWithHighUnder3 = [
      "(H) Pittsburgh Riverhounds",
      "(H) Niort",
      "(H) Beziers AS",
      "(H) Troyes",
      "(H) Metz",
      "(H) Ottawa Fury FC",
      "(H) Sunderland",
      "(H) Mamelodi Sundowns",
      "(H) Zenit St Petersburg",
      "(H) Kilmarnock",
      "(H) Swindon Town",
      "(H) Mansfield Town",
      "(H) Kalmar FF",
      "(H) Celtic",
      "(H) Black Aces",
      "(H) Colorado Springs Switchbacks FC",
      "(H) FC Tokyo",
      "(H) Sagan Tosu",
      "(H) Terek Grozny",
      "(H) Paraná",
      "(H) Seattle Reign FC",
      "(H) Polokwane City FC",
      "(H) Middlesbrough",
      "(H) Free State Stars",
      "(H) Baroka FC",
      "(H) Utah Royals FC",
      "(H) Grenoble",
      "(H) Benfica",
      "(H) Nashville SC",
      "(H) Metallurg Krasnoyarsk",
      "(H) Stoke City",
      "(H) Vitoria Setubal",
      "(H) Spartak Moscow",
      "(H) Derby County",
      "(H) Rostov",
      "(H) Gazovik Orenburg",
      "(H) AaB",
      "(H) Bordeaux",
      "(H) AIK",
      "(H) Konyaspor",
      "(H) Rosario Central",
      "(H) Rubin Kazan",
      "(H) Anzhi Makhachkala",
      "(H) Cadiz",
      "(H) Talleres de Córdoba",
      "(H) Amiens",
      "(H) Boavista",
      "(H) Banfield",
      "(H) Santos",
      "(H) Internacional",
      "(H) Colon Santa Fe",
      "(H) Real Oviedo",
      "(H) Mallorca",
      "(H) Alanyaspor",
      "(H) Las Palmas",
      "(H) Washington Spirit",
      "(H) Getafe",
      "(H) F.B.C Unione Venezia",
      "(H) Reus Deportiu",
      "(H) FC Xanthi",
      "(H) Panionios",
      "(H) Sporting Gijón",
      "(H) Granada",
      "(H) Ascoli",
      "(H) AEK Larnaca",
      "(H) Ludogorets",
      "(H) Giannina",
      "(A) Sagan Tosu",
      "(A) Shonan Bellmare",
      "(A) AC Ajaccio",
      "(A) Tampa Bay Rowdies",
      "(A) Charlton Athletic",
      "(A) Sheffield Wednesday",
      "(A) AFC Wimbledon",
      "(A) Forest Green Rovers",
      "(A) Milton Keynes Dons",
      "(A) Red Star FC 93",
      "(A) Charleston Battery",
      "(A) Chippa United",
      "(A) Golden Arrows",
      "(A) Gazovik Orenburg",
      "(A) Stoke City",
      "(A) Rostov",
      "(A) Cruzeiro",
      "(A) Utah Royals FC",
      "(A) Washington Spirit",
      "(A) Anzhi Makhachkala",
      "(A) Lorient",
      "(A) Internacional",
      "(A) Ottawa Fury FC",
      "(A) AmaZulu",
      "(A) Maritzburg Utd",
      "(A) Black Leopards",
      "(A) Dinamo Moscow",
      "(A) Malmo FF",
      "(A) Vejle",
      "(A) Le Havre",
      "(A) Sochaux",
      "(A) Lens",
      "(A) Jubilo Iwata",
      "(A) CSKA Moscow",
      "(A) Aberdeen",
      "(A) Ipswich Town",
      "(A) Shrewsbury Town",
      "(A) Belenenses",
      "(A) Seattle Reign FC",
      "(A) Talleres de Córdoba",
      "(A) Antalyaspor",
      "(A) Deportivo La Coruña",
      "(A) Rosario Central",
      "(A) Málaga",
      "(A) Nice",
      "(A) Numancia",
      "(A) Vitoria Setubal",
      "(A) Grêmio",
      "(A) Belgrano Cordoba",
      "(A) Maritimo",
      "(A) AIK",
      "(A) Ankaragucu",
      "(A) Reus Deportiu",
      "(A) Istanbul Basaksehir",
      "(A) Union Santa Fe",
      "(A) Real Betis",
      "(A) Real Zaragoza",
      "(A) Giannina",
      "(A) Levadiakos",
      "(A) Cremonese",
      "(A) Las Palmas",
      "(A) FC Xanthi",
      "(A) AEK Athens",
      "(A) Benevento",
      "(A) Ludogorets",
      "(A) Slavia Prague",
      "(A) AEK Larnaca",
    ];
    return allMatches
        .where((m) =>
            leaguesWithHighUnder3.contains("(H) ${m.homeTeam}") ||
            leaguesWithHighUnder3.contains("(A) ${m.awayTeam}"))
        .toList();
  }

  static List<FootballMatch> _getOver2Matches(List<FootballMatch> allMatches) {
    final leaguesWithHighOver2 = [
      "(H) Changchun Yatai",
      "(H) Jubilo Iwata",
      "(H) Shandong Luneng",
      "(H) Yokohama F. Marinos",
      "(H) Shanghai SIPG",
      "(H) Orange County SC",
      "(H) Tianjin Teda",
      "(H) Auxerre",
      "(H) New York Red Bulls II",
      "(H) VfL Bochum",
      "(H) Guizhou Renhe",
      "(H) Barnsley",
      "(H) Walsall",
      "(H) Exeter City",
      "(H) Vejle",
      "(H) Cercle Brugge",
      "(H) Richmond Kickers",
      "(H) North Carolina FC",
      "(H) Minnesota United FC",
      "(H) New York City FC",
      "(H) San Antonio FC",
      "(H) Colorado Rapids",
      "(H) Nagoya Grampus Eight",
      "(H) AC Horsens",
      "(H) 1. FC Union Berlin",
      "(H) 1. FC Heidenheim 1846",
      "(H) St Gallen",
      "(H) LASK Linz",
      "(H) Kristiansund BK",
      "(H) Santos Laguna",
      "(H) Houston Dash",
      "(H) GIF Sundsvall",
      "(H) Tampa Bay Rowdies",
      "(H) Charlotte Independence",
      "(H) Gamba Osaka",
      "(H) IFK Goteborg",
      "(H) Ankaragucu",
      "(H) Chicago Red Stars",
      "(H) Newcastle",
      "(H) Clermont Foot",
      "(H) Arminia Bielefeld",
      "(H) Hobro IK",
      "(H) Sheffield Wednesday",
      "(H) Morecambe",
      "(H) Rotherham United",
      "(H) Huddersfield Town",
      "(H) Colchester United",
      "(H) Fulham",
      "(H) Gillingham",
      "(H) Watford",
      "(H) Caykur Rizespor",
      "(H) Ajax",
      "(H) Nice",
      "(H) St. Truidense",
      "(H) Lille",
      "(H) PSV",
      "(H) FC Porto",
      "(H) New England Revolution",
      "(H) Oklahoma City Energy FC",
      "(H) Los Angeles Galaxy",
      "(H) Southampton",
      "(H) BK Hacken",
      "(H) Östersunds FK",
      "(H) Bordeaux",
      "(H) Randers FC",
      "(H) Rosenborg",
      "(H) Konyaspor",
      "(H) FC Midtjylland",
      "(H) Toronto FC",
      "(H) Bethlehem Steel FC",
      "(H) FC Cologne",
      "(H) Shanghai Greenland",
      "(H) Anzhi Makhachkala",
      "(H) Lorient",
      "(H) Real Betis",
      "(H) Cardiff City",
      "(H) Leicester City",
      "(H) Malmo FF",
      "(H) Guingamp",
      "(H) Chievo Verona",
      "(H) Caen",
      "(H) Amiens",
      "(H) Dijon FCO",
      "(H) Stade Rennes",
      "(H) Yeni Malatyaspor",
      "(H) Vancouver Whitecaps",
      "(H) Philadelphia Union",
      "(H) San Jose Earthquakes",
      "(H) Portland Thorns",
      "(H) Feyenoord",
      "(H) Burnley",
      "(H) Manchester City",
      "(H) C.D. Nacional",
      "(H) SK Sturm Graz",
      "(H) Eibar",
      "(H) Akhisar Belediye",
      "(H) Mallorca",
      "(H) Rayo Vallecano",
      "(H) Parma",
      "(H) Nimes",
      "(H) Kasimpasa",
      "(H) Málaga",
      "(H) Leganes",
      "(H) Fortuna Düsseldorf",
      "(H) Panetolikos",
      "(H) Napoli",
      "(H) Mainz",
      "(H) Granada",
      "(H) Genoa",
      "(H) Foggia",
      "(H) Sevilla FC",
      "(H) Levante",
      "(H) AS Roma",
      "(H) Benevento",
      "(H) AC Milan",
      "(H) Sampdoria",
      "(H) Crotone",
      "(H) Red Star Belgrade",
      "(H) Shakhtar Donetsk",
      "(H) Viktoria Plzen",
      "(H) FK Qarabag",
      "(H) Adelaide United",
      "(H) Brisbane Roar",
      "(H) New Mexico United",
      "(A) FC Tokyo",
      "(A) Kawasaki Frontale",
      "(A) Vissel Kobe",
      "(A) Dalian Aerbin",
      "(A) Sanfrecce Hiroshima",
      "(A) Shonan Bellmare",
      "(A) Tianjin Quanujian",
      "(A) Hebei China Fortune FC",
      "(A) Sonderjyske",
      "(A) AC Ajaccio",
      "(A) Tampa Bay Rowdies",
      "(A) Penn FC",
      "(A) FC Krasnodar",
      "(A) FC Ingolstadt 04",
      "(A) FC Arsenal Tula",
      "(A) Queens Park Rangers",
      "(A) St Johnstone",
      "(A) Macclesfield",
      "(A) Tranmere Rovers",
      "(A) Dalkurd FF",
      "(A) Norwich City",
      "(A) Dundee",
      "(A) Randers FC",
      "(A) Toronto FC II",
      "(A) Vancouver Whitecaps",
      "(A) LA Galaxy II",
      "(A) Tacoma Defiance",
      "(A) Sporting Kansas City",
      "(A) Chicago Fire",
      "(A) Fresno FC",
      "(A) Philadelphia Union",
      "(A) Kashiwa Reysol",
      "(A) V-Varen Nagasaki",
      "(A) Erzgebirge Aue",
      "(A) Arminia Bielefeld",
      "(A) Stoke City",
      "(A) BK Hacken",
      "(A) Haugesund",
      "(A) León",
      "(A) AaB",
      "(A) Lorient",
      "(A) SpVgg Greuther Fürth",
      "(A) IK Sirius",
      "(A) Niort",
      "(A) Heerenveen",
      "(A) Auxerre",
      "(A) Lens",
      "(A) Louisville City FC",
      "(A) VfL Bochum",
      "(A) Tottenham Hotspur",
      "(A) Wigan",
      "(A) Walsall",
      "(A) Crystal Palace",
      "(A) Brommapojkarna",
      "(A) Kasimpasa",
      "(A) VVV Venlo",
      "(A) Reims",
      "(A) Guingamp",
      "(A) Stade Rennes",
      "(A) Antwerp",
      "(A) Bursaspor",
      "(A) Fortuna Sittard",
      "(A) Chaves",
      "(A) Atlanta United 2",
      "(A) Houston Dash",
      "(A) Las Vegas Lights FC",
      "(A) Colorado Springs Switchbacks FC",
      "(A) Emmen",
      "(A) Hamburg SV",
      "(A) FC Groningen",
      "(A) Amiens",
      "(A) 1. FC Magdeburg",
      "(A) Rio Ave",
      "(A) AC Horsens",
      "(A) Akhisar Belediye",
      "(A) Caen",
      "(A) C.D. Nacional",
      "(A) New York City FC",
      "(A) Pittsburgh Riverhounds",
      "(A) FC Dallas",
      "(A) Zenit St Petersburg",
      "(A) Antalyaspor",
      "(A) Portland Timbers",
      "(A) Sacramento Republic FC",
      "(A) Lyon",
      "(A) Sivasspor",
      "(A) Newcastle",
      "(A) Wolverhampton",
      "(A) Angers",
      "(A) Napoli",
      "(A) Alavés",
      "(A) Watford",
      "(A) Rapid Vienna",
      "(A) Moreirense",
      "(A) AS Roma",
      "(A) SD Huesca",
      "(A) Extremadura UD",
      "(A) Spal",
      "(A) Marseille",
      "(A) Istanbul Basaksehir",
      "(A) Leganes",
      "(A) Eibar",
      "(A) Perugia",
      "(A) Atlanta United FC",
      "(A) Hannover 96",
      "(A) 1. FC Nürnberg",
      "(A) Giannina",
      "(A) Real Oviedo",
      "(A) VfB Stuttgart",
      "(A) OFI Crete",
      "(A) Bologna",
      "(A) Sassuolo",
      "(A) Sampdoria",
      "(A) Carpi",
      "(A) Mallorca",
      "(A) Atalanta",
      "(A) Lecce",
      "(A) Las Palmas",
      "(A) PAOK Salonika",
      "(A) Fiorentina",
      "(A) BATE Borisov",
      "(A) Viktoria Plzen",
      "(A) Shakhtar Donetsk",
      "(A) F91 Dudelange",
      "(A) Western Sydney FC",
      "(A) Hartford Athletic",
      "(A) New Mexico United",
    ];
    return allMatches
        .where((m) =>
            leaguesWithHighOver2.contains("(H) ${m.homeTeam}") ||
            leaguesWithHighOver2.contains("(A) ${m.awayTeam}"))
        .toList();
  }

  static List<FootballMatch> _getBttsNoMatches(List<FootballMatch> allMatches) {
    final leaguesWithHighBttsNo = [
      "(H) Orange County SC",
      "(H) Pittsburgh Riverhounds",
      "(H) Hamilton Academical",
      "(H) Kalmar FF",
      "(H) Rapid Vienna",
      "(H) LASK Linz",
      "(H) América Mineiro",
      "(H) New York Red Bulls",
      "(H) Seattle Reign FC",
      "(H) Ceará",
      "(H) Tampa Bay Rowdies",
      "(H) Utah Royals FC",
      "(H) Nashville SC",
      "(H) Dundee",
      "(H) Milton Keynes Dons",
      "(H) Bahía",
      "(H) Charleston Battery",
      "(H) Arizona United",
      "(H) BK Hacken",
      "(H) Rangers",
      "(H) Seattle Sounders FC",
      "(H) Cadiz",
      "(H) Real Betis",
      "(H) Malmo FF",
      "(H) AD Alcorcon",
      "(H) Barcelona",
      "(H) Atletico Madrid",
      "(H) AEK Athens",
      "(H) FC Xanthi",
      "(H) Osasuna",
      "(H) Internazionale",
      "(H) Eintracht Frankfurt",
      "(H) Ludogorets",
      "(A) Richmond Kickers",
      "(A) Rubin Kazan",
      "(A) St Johnstone",
      "(A) Rochdale",
      "(A) AFC Wimbledon",
      "(A) Macclesfield",
      "(A) Morecambe",
      "(A) Cashpoint SC Rheindorf Altach",
      "(A) Baroka FC",
      "(A) Toronto FC II",
      "(A) Trelleborgs FF",
      "(A) FC Zurich",
      "(A) Washington Spirit",
      "(A) Anzhi Makhachkala",
      "(A) Maritzburg Utd",
      "(A) Black Leopards",
      "(A) Vejle",
      "(A) Niort",
      "(A) Auxerre",
      "(A) Paris FC",
      "(A) Toulouse",
      "(A) Hamilton Academical",
      "(A) Brighton and Hove Albion",
      "(A) AS Monaco",
      "(A) Cercle Brugge",
      "(A) VVV Venlo",
      "(A) Chaves",
      "(A) Atlanta United 2",
      "(A) Emmen",
      "(A) West Ham United",
      "(A) Kalmar FF",
      "(A) Amiens",
      "(A) Terek Grozny",
      "(A) Hibernian",
      "(A) St Mirren",
      "(A) NAC",
      "(A) IF Elfsborg",
      "(A) Akhisar Belediye",
      "(A) Caen",
      "(A) Corinthians",
      "(A) Orlando City SC",
      "(A) GIF Sundsvall",
      "(A) Antalyaspor",
      "(A) Willem II",
      "(A) Real Valladolid",
      "(A) Sivasspor",
      "(A) Tondela",
      "(A) Wolverhampton",
      "(A) Fulham",
      "(A) Hartberg",
      "(A) Kayserispor",
      "(A) De Graafschap",
      "(A) Vitoria Setubal",
      "(A) Paraná",
      "(A) Rapid Vienna",
      "(A) Maritimo",
      "(A) Bordeaux",
      "(A) AIK",
      "(A) Esbjerg",
      "(A) Rayo Majadahonda",
      "(A) Spal",
      "(A) Internazionale",
      "(A) Goztepe",
      "(A) Reus Deportiu",
      "(A) Fluminense",
      "(A) Frosinone",
      "(A) Feirense",
      "(A) 1. FC Nürnberg",
      "(A) Schalke 04",
      "(A) Asteras Tripolis",
      "(A) Real Zaragoza",
      "(A) Panathinaikos",
      "(A) Elche",
      "(A) Levadiakos",
      "(A) Chievo Verona",
      "(A) Mainz",
      "(A) Lamia",
      "(A) FC Xanthi",
      "(A) AEK Athens",
      "(A) Hertha Berlin",
      "(A) Panionios",
      "(A) Red Star Belgrade",
      "(A) AEK Larnaca",
      "(A) Videoton FC",
      "(A) Loudoun United FC",
    ];
    return allMatches
        .where((m) =>
            leaguesWithHighBttsNo.contains("(H) ${m.homeTeam}") ||
            leaguesWithHighBttsNo.contains("(A) ${m.awayTeam}"))
        .toList();
  }

  static List<FootballMatch> _getBttsYesMatches(
      List<FootballMatch> allMatches) {
    final leaguesWithHighBttsYes = [
      "(H) Vegalta Sendai",
      "(H) Jubilo Iwata",
      "(H) Yokohama F. Marinos",
      "(H) Shanghai SIPG",
      "(H) Orange County SC",
      "(H) LA Galaxy II",
      "(H) Tianjin Teda",
      "(H) New York Red Bulls II",
      "(H) VfL Bochum",
      "(H) Sunderland",
      "(H) West Bromwich Albion",
      "(H) Notts County",
      "(H) Walsall",
      "(H) Swindon Town",
      "(H) Celtic",
      "(H) Eupen",
      "(H) Ranheim",
      "(H) Basel",
      "(H) KAA Gent",
      "(H) North Carolina FC",
      "(H) Minnesota United FC",
      "(H) San Antonio FC",
      "(H) Colorado Rapids",
      "(H) Nagoya Grampus Eight",
      "(H) Sanfrecce Hiroshima",
      "(H) 1. FC Magdeburg",
      "(H) Hebei China Fortune FC",
      "(H) AC Horsens",
      "(H) SV Darmstadt 98",
      "(H) 1. FC Heidenheim 1846",
      "(H) FC Sion",
      "(H) Hartberg",
      "(H) Wolfsberger AC",
      "(H) Stromsgodset",
      "(H) Charlotte Independence",
      "(H) Tulsa Roughnecks",
      "(H) Gamba Osaka",
      "(H) FC Ingolstadt 04",
      "(H) SC Paderborn",
      "(H) Sandefjord",
      "(H) Dalkurd FF",
      "(H) PEC Zwolle",
      "(H) Marseille",
      "(H) Vissel Kobe",
      "(H) Luton Town",
      "(H) Plymouth Argyle",
      "(H) AFC Bournemouth",
      "(H) Rochdale",
      "(H) Tranmere Rovers",
      "(H) Gillingham",
      "(H) Forest Green Rovers",
      "(H) Standard Liege",
      "(H) Ajax",
      "(H) Willem II",
      "(H) Neuchatel Xamax",
      "(H) FC Lugano",
      "(H) St Etienne",
      "(H) Fenerbahce",
      "(H) Los Angeles Galaxy",
      "(H) Vitesse",
      "(H) FC Copenhagen",
      "(H) Odd BK",
      "(H) Goztepe",
      "(H) Toronto FC",
      "(H) Trelleborgs FF",
      "(H) Shanghai Greenland",
      "(H) IK Sirius",
      "(H) Trabzonspor",
      "(H) Tottenham Hotspur",
      "(H) NAC",
      "(H) Chelsea",
      "(H) AS Monaco",
      "(H) Yeni Malatyaspor",
      "(H) Cordoba",
      "(H) Barcelona",
      "(H) FC Nordsjaelland",
      "(H) FC Utrecht",
      "(H) Manchester City",
      "(H) Heerenveen",
      "(H) Akhisar Belediye",
      "(H) Galatasaray",
      "(H) Atalanta",
      "(H) Kasimpasa",
      "(H) Werder Bremen",
      "(H) VfL Wolfsburg",
      "(H) Atletico Madrid",
      "(H) Thun",
      "(H) Borussia Dortmund",
      "(H) Internazionale",
      "(H) VfB Stuttgart",
      "(H) Viktoria Plzen",
      "(H) Wellington Phoenix",
      "(H) Brisbane Roar",
      "(H) Central Coast Mariners",
      "(H) Western Sydney FC",
      "(A) Consadole Sapporo",
      "(A) Vissel Kobe",
      "(A) Dalian Aerbin",
      "(A) Gamba Osaka",
      "(A) Sanfrecce Hiroshima",
      "(A) Shonan Bellmare",
      "(A) Swope Park Rangers",
      "(A) Hebei China Fortune FC",
      "(A) Guangzhou Evergrande",
      "(A) Standard Liege",
      "(A) FC Cologne",
      "(A) FC Ingolstadt 04",
      "(A) Oxford United",
      "(A) Tranmere Rovers",
      "(A) Newport County",
      "(A) IFK Goteborg",
      "(A) Dalkurd FF",
      "(A) FC Salzburg",
      "(A) SK Sturm Graz",
      "(A) Sporting de Charleroi",
      "(A) FC Midtjylland",
      "(A) Toronto FC",
      "(A) New England Revolution",
      "(A) Nashville SC",
      "(A) Tacoma Defiance",
      "(A) Los Angeles Galaxy",
      "(A) Sporting Kansas City",
      "(A) Fresno FC",
      "(A) Philadelphia Union",
      "(A) Shimizu S-Pulse",
      "(A) Vegalta Sendai",
      "(A) Shandong Luneng",
      "(A) KV Oostende",
      "(A) Neuchatel Xamax",
      "(A) St. Pölten",
      "(A) St. Truidense",
      "(A) Club Brugge",
      "(A) Molde",
      "(A) Arizona United",
      "(A) Indy Eleven",
      "(A) IK Sirius",
      "(A) Urawa Red Diamonds",
      "(A) Odense BK",
      "(A) Swindon Town",
      "(A) Bury",
      "(A) Antwerp",
      "(A) Atlanta United 2",
      "(A) Houston Dash",
      "(A) Real Monarchs SLC",
      "(A) Emmen",
      "(A) Young Boys",
      "(A) FC Sion",
      "(A) Wolfsberger AC",
      "(A) Pittsburgh Riverhounds",
      "(A) Valerenga",
      "(A) Changchun Yatai",
      "(A) Portland Timbers",
      "(A) Sacramento Republic FC",
      "(A) Willem II",
      "(A) Lyon",
      "(A) Sivasspor",
      "(A) Arsenal",
      "(A) Benfica",
      "(A) Napoli",
      "(A) Fenerbahce",
      "(A) Tulsa Roughnecks",
      "(A) PEC Zwolle",
      "(A) Excelsior",
      "(A) Watford",
      "(A) Vitesse",
      "(A) Rapid Vienna",
      "(A) Besiktas",
      "(A) KAA Gent",
      "(A) Marseille",
      "(A) Tenerife",
      "(A) Liverpool",
      "(A) TSG Hoffenheim",
      "(A) Atlanta United FC",
      "(A) Eintracht Frankfurt",
      "(A) Lazio",
      "(A) Barcelona",
      "(A) Basel",
      "(A) Valencia",
      "(A) Las Palmas",
      "(A) Bayern Munich",
      "(A) Shakhtar Donetsk",
      "(A) Newcastle Jets",
      "(A) Western Sydney FC",
      "(A) Wellington Phoenix",
      "(A) Perth Glory",
      "(A) Brisbane Roar",
    ];
    return allMatches
        .where((m) =>
            leaguesWithHighBttsYes.contains("(H) ${m.homeTeam}") ||
            leaguesWithHighBttsYes.contains("(A) ${m.awayTeam}"))
        .toList();
  }
}
